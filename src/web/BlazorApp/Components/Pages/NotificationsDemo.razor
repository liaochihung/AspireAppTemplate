@page "/notifications-demo"
@using AspireAppTemplate.Web.Infrastructure.Services
@using AspireAppTemplate.Web.Infrastructure.Extensions
@inject ISnackbar Snackbar
@inject NotificationService NotificationService

<PageTitle>é€šçŸ¥ä¸­å¿ƒæ¸¬è©¦</PageTitle>

<MudText Typo="Typo.h4" Class="mb-4">Notification Center æ¸¬è©¦é é¢</MudText>

<MudPaper Class="pa-4 mb-4">
    <MudText Typo="Typo.h6" Class="mb-3">æ¸¬è©¦ Snackbar èˆ‡ Notification Center æ•´åˆ</MudText>
    
    <MudStack Row="true" Spacing="2">
        <MudButton Variant="Variant.Filled" Color="Color.Info" OnClick="@(() => ShowNotification(Severity.Info))">
            Info (ä¸é€²é€šçŸ¥ä¸­å¿ƒ)
        </MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Success" OnClick="@(() => ShowNotification(Severity.Success))">
            Success (ä¸é€²é€šçŸ¥ä¸­å¿ƒ)
        </MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Warning" OnClick="@(() => ShowNotification(Severity.Warning))">
            Warning (é€²é€šçŸ¥ä¸­å¿ƒ)
        </MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Error" OnClick="@(() => ShowNotification(Severity.Error))">
            Error (é€²é€šçŸ¥ä¸­å¿ƒ)
        </MudButton>
    </MudStack>
</MudPaper>

<MudPaper Class="pa-4">
    <MudText Typo="Typo.h6" Class="mb-3">ä½¿ç”¨èªªæ˜</MudText>
    <div class="ml-4">
        <div class="d-flex align-start mb-2">
            <MudIcon Icon="@Icons.Material.Filled.Info" Color="Color.Info" Class="mr-2" />
            <MudText><strong>Info / Success</strong>ï¼šåªé¡¯ç¤º Snackbarï¼Œ3 ç§’å¾Œè‡ªå‹•æ¶ˆå¤±ï¼Œä¸é€²å…¥é€šçŸ¥ä¸­å¿ƒ</MudText>
        </div>
        <div class="d-flex align-start mb-2">
            <MudIcon Icon="@Icons.Material.Filled.Warning" Color="Color.Warning" Class="mr-2" />
            <MudText><strong>Warning</strong>ï¼šé¡¯ç¤º Snackbar ä¸¦åŒæ™‚åŠ å…¥é€šçŸ¥ä¸­å¿ƒï¼Œé»æ“Šå³ä¸Šè§’ ğŸ”” æŸ¥çœ‹</MudText>
        </div>
        <div class="d-flex align-start mb-2">
            <MudIcon Icon="@Icons.Material.Filled.Error" Color="Color.Error" Class="mr-2" />
            <MudText><strong>Error</strong>ï¼šé¡¯ç¤º Snackbar ä¸¦åŒæ™‚åŠ å…¥é€šçŸ¥ä¸­å¿ƒï¼Œé»æ“Šå³ä¸Šè§’ ğŸ”” æŸ¥çœ‹</MudText>
        </div>
    </div>
</MudPaper>

@code {
    private int _counter = 0;

    private async Task ShowNotification(Severity severity)
    {
        _counter++;
        var message = $"{severity} æ¸¬è©¦è¨Šæ¯ #{_counter}";
        
        // ä½¿ç”¨æ“´å……æ–¹æ³•è‡ªå‹•æ•´åˆ
        await Snackbar.AddWithNotificationAsync(NotificationService, message, severity);
    }
}
